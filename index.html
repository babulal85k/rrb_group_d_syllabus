<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RRB Group D Interactive Syllabus</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals & Muted Teal -->
    <!-- Application Structure Plan: A two-part dashboard structure was chosen. The first part provides an immediate high-level overview of the exam pattern using stat cards and a donut chart for visual weightage, addressing the user's primary need to understand the exam's structure at a glance. The second part uses a tabbed navigation system to break down the dense syllabus into four distinct subjects. This prevents information overload and allows for focused, user-driven exploration of topics, which is more usable than a long, single-scroll document. -->
    <!-- Visualization & Content Choices: 1. Exam Pattern Breakdown -> Goal: Inform/Compare -> Viz: Donut Chart -> Interaction: Hover for tooltips -> Justification: Visually shows the proportion of questions per subject, which is easier to digest than a table. -> Library: Chart.js/Canvas. 2. Key Exam Metrics (Time, Questions) -> Goal: Inform -> Presentation: Stat Cards -> Interaction: Static display -> Justification: Highlights the most critical exam parameters for quick reference. -> Library/Method: HTML/Tailwind. 3. Detailed Syllabus -> Goal: Organize -> Presentation: Tabbed Content Panes -> Interaction: Click tabs to switch content -> Justification: Segments a large amount of text into manageable, user-selectable sections, improving navigation and focus. -> Library/Method: HTML/Tailwind + Vanilla JS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fdfcf9;
            color: #333;
        }
        .active-tab {
            border-color: #0d9488 !important;
            background-color: #0d9488;
            color: #ffffff;
            font-weight: 600;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
            height: 320px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 380px;
            }
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #0d9488;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .topic-item.completed .topic-text {
            text-decoration: line-through;
            color: #9ca3af;
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-teal-800 tracking-tight">RRB Group D Exam Syllabus</h1>
            <p class="mt-2 text-lg text-gray-600">An interactive guide to the exam structure and topics.</p>
        </header>

        <main>
            <section id="exam-pattern" class="mb-12">
                <h2 class="text-2xl font-semibold text-center mb-6 text-teal-700">Exam Overview: Computer Based Test (CBT)</h2>
                <p class="text-center max-w-3xl mx-auto text-gray-600 mb-8">
                    The first stage of the selection process is a Computer Based Test (CBT). This section provides a high-level overview of the exam's structure, including the distribution of questions across different subjects. Understanding this pattern is the first step in planning your preparation.
                </p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
                    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200 text-center transition-transform transform hover:scale-105">
                        <h3 class="font-bold text-2xl text-teal-600">100</h3>
                        <p class="text-gray-500 font-medium">Total Questions</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200 text-center transition-transform transform hover:scale-105">
                        <h3 class="font-bold text-2xl text-teal-600">90</h3>
                        <p class="text-gray-500 font-medium">Total Minutes</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200 text-center transition-transform transform hover:scale-105">
                        <h3 class="font-bold text-2xl text-teal-600">1</h3>
                        <p class="text-gray-500 font-medium">Mark per Question</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-md border border-gray-200 text-center transition-transform transform hover:scale-105">
                        <h3 class="font-bold text-2xl text-red-500">1/3</h3>
                        <p class="text-gray-500 font-medium">Negative Marking</p>
                    </div>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-lg border border-gray-200">
                    <h3 class="text-xl font-semibold text-center text-teal-700 mb-4">Subject-wise Question Distribution</h3>
                    <div class="chart-container">
                        <canvas id="syllabusChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="detailed-syllabus" class="mb-12">
                <h2 class="text-2xl font-semibold text-center mb-6 text-teal-700">Detailed Syllabus Explorer</h2>
                <p class="text-center max-w-3xl mx-auto text-gray-600 mb-8">
                    Dive deeper into the specific topics covered under each subject. Use the tabs below to navigate between subjects and see the complete list of topics you need to prepare for. This allows you to focus your study on one area at a time.
                </p>
                <div id="tabs-container" class="mb-6 flex flex-wrap justify-center gap-2 sm:gap-4 border-b border-gray-200 pb-4">
                    <button data-tab="mathematics" class="tab-button px-4 py-2 text-sm sm:text-base font-medium text-gray-600 border-b-2 border-transparent hover:border-teal-500 hover:text-teal-600 transition-all duration-300 rounded-t-md active-tab">Mathematics</button>
                    <button data-tab="reasoning" class="tab-button px-4 py-2 text-sm sm:text-base font-medium text-gray-600 border-b-2 border-transparent hover:border-teal-500 hover:text-teal-600 transition-all duration-300 rounded-t-md">General Intelligence & Reasoning</button>
                    <button data-tab="science" class="tab-button px-4 py-2 text-sm sm:text-base font-medium text-gray-600 border-b-2 border-transparent hover:border-teal-500 hover:text-teal-600 transition-all duration-300 rounded-t-md">General Science</button>
                    <button data-tab="awareness" class="tab-button px-4 py-2 text-sm sm:text-base font-medium text-gray-600 border-b-2 border-transparent hover:border-teal-500 hover:text-teal-600 transition-all duration-300 rounded-t-md">General Awareness & Current Affairs</button>
                </div>
                
                <div id="tabs-content" class="bg-white p-6 sm:p-8 rounded-xl shadow-lg border border-gray-200 min-h-[300px]">
                    <div id="mathematics" class="tab-content active"></div>
                    <div id="reasoning" class="tab-content"></div>
                    <div id="science" class="tab-content"></div>
                    <div id="awareness" class="tab-content"></div>
                </div>
            </section>

            <section id="study-planner">
                <h2 class="text-2xl font-semibold text-center mb-6 text-teal-700">✨ AI Study Planner</h2>
                <p class="text-center max-w-3xl mx-auto text-gray-600 mb-8">
                    Get a personalized study plan generated by AI. Enter the number of weeks you have to prepare, and our assistant will create a balanced, week-by-week schedule covering all the subjects to help you stay on track.
                </p>
                <div class="max-w-xl mx-auto bg-white p-6 sm:p-8 rounded-xl shadow-lg border border-gray-200">
                    <div class="flex flex-col sm:flex-row items-center gap-4 mb-6">
                        <label for="weeks-input" class="font-medium text-gray-700 whitespace-nowrap">Weeks to prepare:</label>
                        <input type="number" id="weeks-input" class="w-full sm:w-auto flex-grow px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500" placeholder="e.g., 8" min="1" value="8">
                        <button id="generate-plan-btn" class="w-full sm:w-auto bg-teal-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-teal-700 transition-colors duration-300 flex items-center justify-center gap-2">
                            Generate Plan
                        </button>
                    </div>
                    <div id="plan-output" class="mt-4 p-4 border border-gray-200 rounded-lg bg-gray-50 min-h-[100px]">
                        <p class="text-gray-500 text-center">Your personalized study plan will appear here.</p>
                    </div>
                     <div id="loader" class="loader hidden"></div>
                </div>
            </section>

        </main>
        <footer class="text-center mt-12 text-gray-500 text-sm">
            <p>This is an unofficial, interactive representation of the RRB Group D syllabus for preparation purposes. Always refer to the official notification for the most accurate information.</p>
        </footer>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const syllabusData = {
                chartData: {
                    labels: ['General Science', 'Mathematics', 'General Intelligence & Reasoning', 'General Awareness & Current Affairs'],
                    questions: [25, 25, 30, 20]
                },
                topics: {
                    mathematics: [
                        'Number system', 'BODMAS', 'Decimals', 'Fractions', 'LCM', 'HCF', 'Ratio and Proportion', 'Percentages', 'Mensuration', 'Time and Work', 'Time and Distance', 'Simple and Compound Interest', 'Profit and Loss', 'Algebra', 'Geometry and Trigonometry', 'Elementary Statistics', 'Square root', 'Age Calculations', 'Calendar & Clock', 'Pipes & Cistern'
                    ],
                    reasoning: [
                        'Analogies', 'Alphabetical and Number Series', 'Coding and Decoding', 'Mathematical operations', 'Relationships', 'Syllogism', 'Jumbling', 'Venn Diagram', 'Data Interpretation and Sufficiency', 'Conclusions and Decision making', 'Similarities and Differences', 'Analytical Reasoning', 'Classification', 'Directions', 'Statement - Arguments and Assumptions'
                    ],
                    science: [
                        'Physics', 'Chemistry', 'Life Sciences (Biology)'
                    ],
                    awareness: [
                        'Current Affairs (Science & Tech, Sports, Culture, Personalities, Economics, Politics)', 'Indian History and Culture', 'Geography', 'Indian Polity and Constitution', 'Indian Economy', 'Environmental issues', 'General Scientific and Technological Developments'
                    ]
                }
            };
            
            const progressState = {};

            const updateProgress = (subject) => {
                const subjectProgress = progressState[subject];
                const totalTopics = Object.keys(subjectProgress).length;
                const completedTopics = Object.values(subjectProgress).filter(Boolean).length;
                const percentage = totalTopics > 0 ? (completedTopics / totalTopics) * 100 : 0;

                const progressBar = document.getElementById(`${subject}-progress-bar`);
                const progressText = document.getElementById(`${subject}-progress-text`);
                
                if(progressBar && progressText) {
                    progressBar.style.width = `${percentage}%`;
                    progressText.textContent = `Progress: ${completedTopics} / ${totalTopics} Topics Completed`;
                }
            };
            
            const renderTopics = (subject) => {
                const container = document.getElementById(subject);
                const topicList = syllabusData.topics[subject];
                progressState[subject] = {};

                let progressHTML = `
                    <div class="mb-6">
                        <div class="flex justify-between items-center mb-2">
                            <h4 class="text-sm font-semibold text-gray-600">Completion Progress</h4>
                            <span id="${subject}-progress-text" class="text-sm font-medium text-teal-600"></span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div id="${subject}-progress-bar" class="bg-teal-500 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
                        </div>
                    </div>
                `;

                let topicHTML = `<h3 class="text-xl font-bold mb-4 text-teal-700 capitalize">${subject.replace('-', ' ')}</h3>`;
                topicHTML += '<ul class="space-y-3 text-gray-700">';

                topicList.forEach(topic => {
                    progressState[subject][topic] = false; // Initialize progress state
                    topicHTML += `
                    <li class="topic-item flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200">
                        <span class="topic-text flex-grow mr-4">${topic}</span>
                        <button data-subject="${subject}" data-topic="${topic}" class="done-btn flex-shrink-0 text-xs font-bold text-teal-700 bg-teal-100 hover:bg-teal-200 px-3 py-1 rounded-full transition-colors duration-200">Done</button>
                    </li>`;
                });
                topicHTML += '</ul>';
                container.innerHTML = progressHTML + topicHTML;
                updateProgress(subject);
            };

            renderTopics('mathematics');
            renderTopics('reasoning');
            renderTopics('science');
            renderTopics('awareness');

            const tabsContainer = document.getElementById('tabs-container');
            const tabButtons = tabsContainer.querySelectorAll('.tab-button');
            const tabsContent = document.getElementById('tabs-content')
            const tabContents = tabsContent.querySelectorAll('.tab-content');

            tabsContainer.addEventListener('click', (e) => {
                const clickedTab = e.target.closest('.tab-button');
                if (!clickedTab) return;

                tabButtons.forEach(button => button.classList.remove('active-tab'));
                clickedTab.classList.add('active-tab');

                tabContents.forEach(content => content.classList.remove('active'));
                const contentId = clickedTab.dataset.tab;
                document.getElementById(contentId).classList.add('active');
            });

            tabsContent.addEventListener('click', (e) => {
                if (e.target.matches('.done-btn')) {
                    const button = e.target;
                    const subject = button.dataset.subject;
                    const topic = button.dataset.topic;

                    // Toggle completion state
                    const isCompleted = !progressState[subject][topic];
                    progressState[subject][topic] = isCompleted;
                    
                    const topicItem = button.closest('.topic-item');

                    if (isCompleted) {
                        topicItem.classList.add('completed');
                        button.textContent = '✓ Completed';
                        button.classList.remove('bg-teal-100', 'hover:bg-teal-200', 'text-teal-700');
                        button.classList.add('bg-green-600', 'text-white');
                        button.disabled = true;
                    } 
                    
                    updateProgress(subject);
                }
            });

            const ctx = document.getElementById('syllabusChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: syllabusData.chartData.labels,
                    datasets: [{
                        label: 'No. of Questions',
                        data: syllabusData.chartData.questions,
                        backgroundColor: ['rgba(15, 118, 110, 0.8)', 'rgba(20, 184, 166, 0.8)', 'rgba(45, 212, 191, 0.8)', 'rgba(147, 197, 253, 0.8)'],
                        borderColor: ['rgba(15, 118, 110, 1)', 'rgba(20, 184, 166, 1)', 'rgba(45, 212, 191, 1)', 'rgba(147, 197, 253, 1)'],
                        borderWidth: 1,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { position: 'bottom', labels: { font: { size: 14, family: 'Inter, sans-serif' }, padding: 20, boxWidth: 15 }},
                        tooltip: { callbacks: { label: (c) => `${c.label}: ${c.parsed} Questions` }, bodyFont: { size: 14 }, titleFont: { size: 16 }}
                    },
                    cutout: '60%'
                }
            });

            const generatePlanBtn = document.getElementById('generate-plan-btn');
            const weeksInput = document.getElementById('weeks-input');
            const planOutput = document.getElementById('plan-output');
            const loader = document.getElementById('loader');
            
            const apiKey = ""; 

            async function generateStudyPlan() {
                const weeks = weeksInput.value;
                if (!weeks || weeks < 1) {
                    planOutput.innerHTML = '<p class="text-red-500 text-center">Please enter a valid number of weeks.</p>';
                    return;
                }

                loader.classList.remove('hidden');
                planOutput.innerHTML = '<p class="text-gray-500 text-center">Generating your personalized plan...</p>';
                generatePlanBtn.disabled = true;

                const systemPrompt = "Act as an expert tutor. Create a detailed, balanced, and encouraging weekly study plan for the RRB Group D exam. The plan should be easy to follow and cover all subjects logically over the specified number of weeks. Include revision days and practice tests. Format the output with clear headings for each week.";
                const userQuery = `Generate a ${weeks}-week study plan for the RRB Group D exam using this syllabus: Mathematics: ${syllabusData.topics.mathematics.join(', ')}. Reasoning: ${syllabusData.topics.reasoning.join(', ')}. Science: ${syllabusData.topics.science.join(', ')}. General Awareness: ${syllabusData.topics.awareness.join(', ')}. The plan should distribute these topics evenly. Conclude with motivational tips.`;

                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                const payload = { contents: [{ parts: [{ text: userQuery }] }], systemInstruction: { parts: [{ text: systemPrompt }] } };
                
                let retries = 3, delay = 1000, response;
                while (retries > 0) {
                    try {
                        response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                        if (response.ok) {
                            const result = await response.json();
                            const candidate = result.candidates?.[0];
                            if (candidate && candidate.content?.parts?.[0]?.text) {
                                planOutput.innerHTML = formatResponse(candidate.content.parts[0].text);
                            } else {
                                planOutput.innerHTML = '<p class="text-red-500 text-center">The model returned an empty response.</p>';
                            }
                            break; 
                        } else if (response.status === 429 || response.status >= 500) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        } else {
                            const errorResult = await response.json();
                            planOutput.innerHTML = `<p class="text-red-500 text-center">Error: ${errorResult.error?.message || 'Unknown'}</p>`;
                            break;
                        }
                    } catch (error) {
                        console.error("API call failed:", error);
                        retries--;
                        if (retries === 0) planOutput.innerHTML = '<p class="text-red-500 text-center">Failed to generate a plan. Please try again later.</p>';
                        else { await new Promise(res => setTimeout(res, delay)); delay *= 2; }
                    }
                }
                loader.classList.add('hidden');
                generatePlanBtn.disabled = false;
            }
            
            function formatResponse(text) {
                return text
                    .replace(/\*\*(.*?)\*\*/g, '<strong class="font-semibold text-teal-800">$1</strong>')
                    .replace(/^(Week \d+.*)/gm, '<h4 class="text-lg font-bold mt-4 mb-2 text-teal-700">$1</h4>')
                    .replace(/^- (.*)/gm, '<li class="ml-4 list-disc">$1</li>')
                    .replace(/\n/g, '<br>');
            }

            generatePlanBtn.addEventListener('click', generateStudyPlan);
        });
    </script>
</body>
</html>

